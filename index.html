<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
      <meta name="author" content="Keng Lin">
      <meta name="keywords" content="neutrino, neutrinos, nu, earth">
      <meta name="description" content="NeutrinoExperimentsOnEarth">

      <title>Neutrino Experiments On Earth</title>

      <!-- Leaflet CSS -->
      <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

      <!-- Your custom styles -->
      <!--<link rel="stylesheet" href="styles/styles.css"/>-->
      <link rel="stylesheet" href="css/base.css">
      <link rel="stylesheet" href="css/map.css">
      <link rel="stylesheet" href="css/filters.css">
      <link rel="stylesheet" href="css/bottom-panel.css">

      <!-- Leaflet JavaScript -->
      <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  </head>

  <body>
  <!-- url for form: https://docs.google.com/spreadsheets/d/1Rz3lUFNdTXeOOFCT4Qhbb7M-NeC_7I2CDYi3o5V1ypw/edit#gid=1692128851-->
  <!-- url for website: https://ooohu.github.io/NeutrinoExperimentsOnEarth/ -->
  <!-- url for questionnaire: https://docs.google.com/forms/d/1Nm1uhVYQ3VYdWN92dQQ9RSGNl8wGAIK1yW6erjVBizA/edit -->

    <!-- Search Box -->
    <div id="search-container">
      <input type="text" id="experiment-search" placeholder="Search for an experiment..." />
      <!-- Filter Toggle -->
      <button id="toggle-filters">Filters â–¼</button>
      
      <!-- Filter Panel -->
      <div id="filter-panel" class="collapsed">
          <div class="group-title">
              <label for="energy-min">Energy of Interest [MeV]:</label>
              <div class="inputs-row">
                  <input type="number" id="energy-min" placeholder="Min">
                  <input type="number" id="energy-max" placeholder="Max">
              </div>
          </div>

          <div class="group-title">
              <label for="year-min">Years:</label>
              <div class="inputs-row">
                  <input type="number" id="year-min" placeholder="1930">
                  <input type="number" id="year-max" placeholder="Max">
              </div>
          </div>

           <!-- New filter row: Detector Type checkboxes -->
          <div class="group-title">
              <label>Detector Type:</label>
              <div class="inputs-row">
                  <label>
                      <input type="checkbox" class="dtype-filter" value="blue" checked>
                      <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png" class="marker-checkbox-icon" alt="Blue marker">
                      Cherenkov
                  </label>
                  <label>
                      <input type="checkbox" class="dtype-filter" value="red" checked>
                      <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png" class="marker-checkbox-icon" alt="Red marker">
                      TPC
                  </label>
                  <label>
                      <input type="checkbox" class="dtype-filter" value="black" checked>
                      <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-black.png" class="marker-checkbox-icon" alt="Black marker">
                      Scintillation
                  </label>
                  <label>
                      <input type="checkbox" class="dtype-filter" value="grey" checked>
                      <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-grey.png" class="marker-checkbox-icon" alt="Grey marker">
                      Unclassified
                  </label>
              </div>
          </div>

          <button id="reset-filters">Reset</button>
      </div>
    </div>

    <!-- the map part-->
    <div id="map"></div>
    
    <!-- Transparent Bottom Panel -->
    <div id="bottom-panel" class="collapsed">
      <div id="panel-content">
        <p>This webpage aims to show locations of all neutrino experiments on earth.
        Information for any neutrino experiments are being collected. Helps are appreciated.
        If you would like to share about your experiment, please fill in this
        <a href="https://forms.gle/WcvSnw4ut5i9zfTq8">Questionnaire</a>. ðŸ˜ƒ</p>
        <p>This webpage, NeutrinoExperimentsOnEarth, is maintained by Keng Lin,
        contact: keng.linATrutgers.edu</p>
      </div>

      <!-- put two QRCode at the bottome -->
      <div id="qr-container">
        <div class="qr-box left">
          <p>Input Questionnaire:</p>
          <img src="assets/images/questionnaireQRCode.png" alt="questionnaireQRCode">
        </div>

        <div class="qr-box right">
          <p>Share this page:</p>
          <img src="assets/images/thispage.png" alt="thispageQRCode">
        </div>
      </div>
      
    </div>

    <button id="toggle-panel">â–²More</button>

    

    <script src="scripts/map/map_init.js"></script> <!-- Map initialization must come first -->
    <script src="scripts/map/map_markerLoader.js"></script><!-- Marker loader depends on map -->
    <script src="scripts/map/map_filters.js"></script><!-- Filters depend on allMarkers from marker_loader -->

    <script src="scripts/ui/ui_toggle.js"></script><!-- UI toggles for panels -->

    <script>
      // Initialize markers after map is ready
      initMarkers();
    </script>
  </body>

</html>
